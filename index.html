<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Be My Valentine üíñ</title>
<style>
* { box-sizing: border-box; }
body {
  margin: 0;
  height: 100vh;
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg, #ff5f6d, #ffc371);
  background-size: 400% 400%;
  animation: bg 12s ease infinite;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  color: white;
}
@keyframes bg {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.card {
  width: 320px;
  background: rgba(0,0,0,0.25);
  padding: 35px;
  border-radius: 20px;
  text-align: center;
  position: relative;
  z-index: 5;
}

.name.typing {
  font-size: 34px;
  font-weight: bold;
  white-space: nowrap;
  overflow: hidden;
  border-right: 3px solid white;
  width: 0;
  margin-bottom: 10px;
  animation: typing 2.5s steps(10) forwards, blink 0.7s infinite;
}
@keyframes typing { to { width: 200px; } }
@keyframes blink { 50% { border-color: transparent; } }

.name.static { font-size: 36px; font-weight: bold; margin-bottom: 10px; }
.question { margin: 20px 0; font-size: 20px; }
.buttons { position: relative; height: 60px; width: 100%; }
button {
  padding: 10px 24px;
  border-radius: 25px;
  border: none;
  font-size: 16px;
  cursor: pointer;
}
#yes { background: #00ffb3; }
#no { background: #ff4d4d; position: absolute; top: 0; right: 0; }

#fireworks { position: fixed; inset: 0; pointer-events: none; z-index: 1; }
#success { display: none; text-align: center; z-index: 5; }
#musicContainer { display:none; }
</style>
</head>
<body>

<canvas id="fireworks"></canvas>

<div class="card" id="card">
  <div class="name typing">Riza üíñ</div>
  <div class="question">Will you be my Valentine?</div>
  <div class="buttons" id="btnArea">
    <button id="yes">Yes üòç</button>
    <button id="no">No üôà</button>
  </div>
</div>

<div id="success">
  <div class="name static">Riza üíï</div>
  <p style="font-size:20px;">You just made my heart the happiest ‚ù§Ô∏è</p>
  <p>With Love, Isaf üíå</p>
</div>

<div id="musicContainer"></div>

<script>
/* ===== CANVAS SETUP ===== */
const canvas = document.getElementById("fireworks");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

window.addEventListener("resize", ()=>{
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
});

/* ===== NO BUTTON LOGIC ===== */
const noBtn = document.getElementById("no");
function moveNoButton() {
  const padding = 20;
  const maxX = window.innerWidth - noBtn.offsetWidth - padding;
  const maxY = window.innerHeight - noBtn.offsetHeight - padding;
  noBtn.style.left = Math.random() * maxX + "px";
  noBtn.style.top = Math.random() * maxY + "px";
}
noBtn.addEventListener("mouseenter", moveNoButton);
noBtn.addEventListener("touchstart", moveNoButton);

/* ===== PARTICLES ===== */
let hearts = [];
let fireworks = [];

function createHeart(normal=true) {
  hearts.push({
    x: Math.random()*canvas.width,
    y: -10,
    vx: (Math.random()-0.5)*1.5,
    vy: normal ? 2 + Math.random()*2 : 3 + Math.random()*2,
    size: 10 + Math.random()*10
  });
}

function createFirework() {
  const x = Math.random()*canvas.width;
  const y = Math.random()*canvas.height/2;
  const color = `hsl(${Math.random()*360},100%,60%)`;
  for(let i=0;i<80;i++){
    fireworks.push({
      x: x,
      y: y,
      vx: (Math.random()-0.5)*6,
      vy: (Math.random()-0.5)*6,
      alpha: 1,
      size: 2 + Math.random()*2,
      color: color
    });
  }
}

/* ===== ANIMATION LOOP ===== */
function animate() {
  ctx.clearRect(0,0,canvas.width,canvas.height);

  // Hearts
  hearts.forEach((p,i)=>{
    p.x += p.vx;
    p.y += p.vy;
    if(p.y > canvas.height) p.y = -20, p.x = Math.random()*canvas.width;

    ctx.font = p.size + "px Arial";
    ctx.fillText("‚ù§Ô∏è",p.x,p.y);
  });

  // Fireworks
  fireworks.forEach((p,i)=>{
    p.x += p.vx;
    p.y += p.vy;
    p.alpha -= 0.02;
    if(p.alpha <=0) fireworks.splice(i,1);
    ctx.globalAlpha = p.alpha;
    ctx.fillStyle = p.color;
    ctx.beginPath();
    ctx.arc(p.x,p.y,p.size,0,Math.PI*2);
    ctx.fill();
    ctx.globalAlpha = 1;
  });

  requestAnimationFrame(animate);
}
animate();

/* ===== INITIAL HEARTS ===== */
setInterval(()=>createHeart(true),150);

/* ===== YES CLICK ===== */
document.getElementById("yes").addEventListener("click", ()=>{
  document.getElementById("card").style.display = "none";
  document.getElementById("success").style.display = "block";

  // YouTube music
  const musicContainer = document.getElementById("musicContainer");
  musicContainer.innerHTML = `
    <iframe
      width="0"
      height="0"
      src="https://www.youtube.com/embed/cNGjD0VG4R8?autoplay=1&controls=0&loop=1&playlist=cNGjD0VG4R8"
      frameborder="0"
      allow="autoplay; encrypted-media"
    ></iframe>`;
  musicContainer.style.display = "block";

  // Faster hearts after YES
  setInterval(()=>createHeart(false),100);

  // Fireworks + confetti
  setInterval(createFirework,300);
});
</script>
</body>
</html>