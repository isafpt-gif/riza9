<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Be My Valentine üíñ</title>
<style>
* { box-sizing: border-box; }
body {
  margin: 0;
  height: 100vh;
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg, #ff5f6d, #ffc371);
  background-size: 400% 400%;
  animation: bg 12s ease infinite;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  color: white;
}

@keyframes bg {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.card {
  width: 320px;
  background: rgba(0,0,0,0.25);
  padding: 35px;
  border-radius: 20px;
  text-align: center;
  position: relative;
  z-index: 5;
}

.name.typing {
  font-size: 34px;
  font-weight: bold;
  white-space: nowrap;
  overflow: hidden;
  border-right: 3px solid white;
  width: 0;
  margin-bottom: 10px;
  animation: typing 2.5s steps(10) forwards, blink 0.7s infinite;
}
@keyframes typing { to { width: 200px; } }
@keyframes blink { 50% { border-color: transparent; } }

.name.static { font-size: 36px; font-weight: bold; margin-bottom: 10px; }
.question { margin: 20px 0; font-size: 20px; }
.buttons { position: relative; height: 60px; width: 100%; }
button {
  padding: 10px 24px;
  border-radius: 25px;
  border: none;
  font-size: 16px;
  cursor: pointer;
}
#yes { background: #00ffb3; }
#no { background: #ff4d4d; position: absolute; top: 0; right: 0; }

#fireworks { position: fixed; inset: 0; pointer-events: none; z-index: 1; }
#success { display: none; text-align: center; z-index: 5; }
#musicContainer { display:none; }
</style>
</head>
<body>

<canvas id="fireworks"></canvas>

<div class="card" id="card">
  <div class="name typing">Riza üíñ</div>
  <div class="question">Will you be my Valentine?</div>
  <div class="buttons" id="btnArea">
    <button id="yes">Yes üòç</button>
    <button id="no">No üôà</button>
  </div>
</div>

<div id="success">
  <div class="name static">Riza üíï</div>
  <p style="font-size:20px;">You just made my heart the happiest ‚ù§Ô∏è</p>
  <p>With Love, Isaf üíå</p>
</div>

<div id="musicContainer"></div>

<script>
/* ===== NO BUTTON JUMP ACROSS SCREEN ===== */
const noBtn = document.getElementById("no");
function moveNoButton() {
  const maxX = window.innerWidth - noBtn.offsetWidth;
  const maxY = window.innerHeight - noBtn.offsetHeight;
  noBtn.style.left = Math.random() * maxX + "px";
  noBtn.style.top = Math.random() * maxY + "px";
}
noBtn.addEventListener("mouseenter", moveNoButton);
noBtn.addEventListener("click", moveNoButton);
noBtn.addEventListener("touchstart", moveNoButton);

/* ===== PARTICLES (FIREWORKS + FALLING HEARTS + CONFETTI) ===== */
const canvas = document.getElementById("fireworks");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let particles = [];

function launchParticles() {
  for (let i = 0; i < 80; i++) {
    const type = Math.random();
    let color;
    if (type < 0.3) color = `hsl(${Math.random()*360},100%,60%)`; // fireworks
    else if (type < 0.7) color = "red"; // hearts
    else color = `hsl(${Math.random()*360},90%,65%)`; // confetti

    const yStart = (type < 0.7) ? -20 : Math.random()*canvas.height;
    particles.push({
      x: Math.random()*canvas.width,
      y: yStart,
      vx: (Math.random()-0.5)*2,
      vy: (type < 0.7) ? 2 + Math.random()*3 : (Math.random()-0.5)*6, // hearts fall faster
      life: 1,
      size: 4 + Math.random()*3,
      color: color,
      type: type
    });
  }
}

function animateParticles() {
  ctx.clearRect(0,0,canvas.width,canvas.height); // keep gradient visible

  particles.forEach((p,index)=>{
    p.x += p.vx;
    p.y += p.vy;

    // Hearts reset top when reach bottom
    if(p.type >=0.3 && p.type <0.7 && p.y > canvas.height+20) p.y = -20;

    p.life -= 0.01;

    ctx.globalAlpha = p.life;

    if(p.type <0.3) ctx.fillStyle = p.color, ctx.fillRect(p.x,p.y,p.size,p.size); // fireworks
    else if(p.type <0.7) ctx.font = p.size + 10 + "px Arial", ctx.fillText("‚ù§Ô∏è",p.x,p.y);
    else ctx.fillStyle = p.color, ctx.fillRect(p.x,p.y,p.size,p.size); // confetti

    if(p.life <=0 && p.type <0.3) particles.splice(index,1); // remove old fireworks
  });

  requestAnimationFrame(animateParticles);
}
animateParticles();

/* ===== YES CLICK ===== */
document.getElementById("yes").addEventListener("click", ()=>{
  document.getElementById("card").style.display = "none";
  document.getElementById("success").style.display = "block";

  // embed YouTube music after user click
  const musicContainer = document.getElementById("musicContainer");
  musicContainer.innerHTML = `
    <iframe
      width="0"
      height="0"
      src="https://www.youtube.com/embed/cNGjD0VG4R8?autoplay=1&controls=0&loop=1&playlist=cNGjD0VG4R8"
      frameborder="0"
      allow="autoplay; encrypted-media"
    ></iframe>
  `;
  musicContainer.style.display = "block";

  setInterval(launchParticles,300); // continuously generate particles
});

/* ===== RESIZE CANVAS ===== */
window.addEventListener("resize", ()=>{
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
});
</script>
</body>
</html>