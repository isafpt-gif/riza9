<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Be My Valentine üíñ</title>
<style>
* { box-sizing: border-box; }
body {
  margin: 0;
  height: 100vh;
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg, #ff5f6d, #ffc371);
  background-size: 400% 400%;
  animation: bg 12s ease infinite;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  color: white;
}

@keyframes bg {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.card {
  width: 320px;
  background: rgba(0,0,0,0.25);
  padding: 35px;
  border-radius: 20px;
  text-align: center;
  position: relative;
  z-index: 5;
}

.name.typing {
  font-size: 34px;
  font-weight: bold;
  white-space: nowrap;
  overflow: hidden;
  border-right: 3px solid white;
  width: 0;
  margin-bottom: 10px;
  animation: typing 2.5s steps(10) forwards, blink 0.7s infinite;
}
@keyframes typing { to { width: 200px; } }
@keyframes blink { 50% { border-color: transparent; } }

.name.static { font-size: 36px; font-weight: bold; margin-bottom: 10px; }
.question { margin: 20px 0; font-size: 20px; }
.buttons { position: relative; height: 60px; width: 100%; }
button {
  padding: 10px 24px;
  border-radius: 25px;
  border: none;
  font-size: 16px;
  cursor: pointer;
}
#yes { background: #00ffb3; }
#no { background: #ff4d4d; position: absolute; top: 0; right: 0; }

#fireworks { position: fixed; inset: 0; pointer-events: none; z-index: 1; }
#success { display: none; text-align: center; z-index: 5; }
#musicContainer { display:none; }
</style>
</head>
<body>

<canvas id="fireworks"></canvas>

<div class="card" id="card">
  <div class="name typing">Riza üíñ</div>
  <div class="question">Will you be my Valentine?</div>
  <div class="buttons" id="btnArea">
    <button id="yes">Yes üòç</button>
    <button id="no">No üôà</button>
  </div>
</div>

<div id="success">
  <div class="name static">Riza üíï</div>
  <p style="font-size:20px;">You just made my heart the happiest ‚ù§Ô∏è</p>
  <p>Love, Isaf üíå</p>
</div>

<div id="musicContainer"></div>

<script>
const canvas = document.getElementById("fireworks");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let particles = [];

/* ===== NO BUTTON ===== */
const noBtn = document.getElementById("no");
function moveNoButton() {
  const maxX = window.innerWidth - noBtn.offsetWidth - 10;
  const maxY = window.innerHeight - noBtn.offsetHeight - 10;
  noBtn.style.left = Math.random() * maxX + "px";
  noBtn.style.top = Math.random() * maxY + "px";
}
noBtn.addEventListener("mouseenter", moveNoButton);
noBtn.addEventListener("touchstart", moveNoButton);

/* ===== HEARTS FALLING (INITIAL PAGE) ===== */
function createHeart() {
  particles.push({
    x: Math.random() * canvas.width,
    y: -10,
    vx: (Math.random()-0.5)*1.5,
    vy: 2 + Math.random()*2,
    size: 10 + Math.random()*10,
    color: "red",
    type: "heart"
  });
}

function animate() {
  ctx.clearRect(0,0,canvas.width,canvas.height);

  particles.forEach((p,i)=>{
    p.x += p.vx;
    p.y += p.vy;

    // loop hearts from top
    if(p.y > canvas.height) p.y = -20, p.x = Math.random() * canvas.width;

    ctx.globalAlpha = 1;
    if(p.type === "heart"){
      ctx.font = p.size + "px Arial";
      ctx.fillText("‚ù§Ô∏è", p.x, p.y);
    } else {
      ctx.fillStyle = p.color;
      ctx.fillRect(p.x,p.y,p.size,p.size);
    }
  });
  requestAnimationFrame(animate);
}
animate();

// create initial hearts continuously
setInterval(createHeart, 150);

/* ===== YES CLICK ===== */
document.getElementById("yes").addEventListener("click", ()=>{
  document.getElementById("card").style.display = "none";
  document.getElementById("success").style.display = "block";

  // embed YouTube music
  const musicContainer = document.getElementById("musicContainer");
  musicContainer.innerHTML = `
    <iframe
      width="0"
      height="0"
      src="https://www.youtube.com/embed/cNGjD0VG4R8?autoplay=1&controls=0&loop=1&playlist=cNGjD0VG4R8"
      frameborder="0"
      allow="autoplay; encrypted-media"
    ></iframe>`;
  musicContainer.style.display = "block";

  // add fireworks + confetti + hearts after YES
  function launchParticle() {
    for (let i=0;i<100;i++){
      const type = Math.random();
      let color = type<0.3 ? `hsl(${Math.random()*360},100%,60%)` : (type<0.7 ? "red" : `hsl(${Math.random()*360},90%,65%)`);
      particles.push({
        x: Math.random()*canvas.width,
        y: Math.random()*canvas.height/2,
        vx: (Math.random()-0.5)*6,
        vy: (Math.random()-0.5)*6,
        size: 4 + Math.random()*4,
        color: color,
        type: type<0.7?"heart": "confetti"
      });
    }
  }
  setInterval(launchParticle, 200);
});

/* ===== RESIZE ===== */
window.addEventListener("resize", ()=>{
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
});
</script>
</body>
</html>